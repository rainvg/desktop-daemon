var path=require("path"),electron=require("electron"),daemons=require("./daemons.js"),update=require("./update.js"),tray=require("./tray.js"),autostart=require("./autostart.js"),desktop_updater=require("./desktop_updater.js"),pkg=require("../package.json"),pkg=require(path.resolve(__dirname,"..","package.json")),_windows={};electron.dialog.showErrorBox=function(e,r){console.log("[ErrorBox",e,"-",r,"]")};var _potty;module.exports=function(e){_potty=e,autostart(),tray(_potty,_windows),update(_potty,_windows),desktop_updater(_potty),daemons(_potty.id,pkg.version)};
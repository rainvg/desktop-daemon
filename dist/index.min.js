function __update__(){"use strict";nappy.wait.connection().then(function(){request("https://rain.vg/releases/desktop/"+process.platform+"-"+process.arch+"/package",function(e,t,n){e||200!==t.statusCode||JSON.parse(n).version===version||potty.update().then(function(){electron.app.exit(0)}),nappy.wait["for"](settings.update.interval).then(__update__)})})}var potty=require(process.env.POTTY).app,electron=require("electron"),nappy=require("nappy"),request=require("request"),path=require("path"),version=require(path.resolve(__dirname,"..","package.json")).version,settings={update:{interval:3e5}};potty.setup().then(function(){"use strict";nappy.wait["for"](settings.update.interval).then(__update__)});var appIcon=null;electron.app.on("ready",function(){"use strict";appIcon=new electron.Tray(path.resolve(__dirname,"..","resources","logo.png"));var e=electron.Menu.buildFromTemplate([{label:"Rain version "+version},{type:"separator"},{label:"‚ù§ for contributing!"}]);appIcon.setToolTip("Rain"),appIcon.setContextMenu(e)});
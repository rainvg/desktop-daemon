module.exports=function(e){var r=require("electron"),t=require("nappy"),n=require("request"),o=require("path"),a=require("os"),i=require(o.resolve(__dirname,"..","package.json")),s={update:{interval:3e5}};!function c(){"use strict";t.wait["for"](s.update.interval).then(t.wait.connection).then(function(){n.get("https://rain.vg/releases/"+i.name+"/"+a.type().toLowerCase()+"-"+a.arch().toLowerCase()+"/production/package",function(t,n){t||200!==n.statusCode||JSON.parse(n.body).version===i.version||e.update().then(function(){r.app.exit(0)}),c()})})}();var u=new r.Tray(o.resolve(__dirname,"..","resources","logo.png")),p=r.Menu.buildFromTemplate([{label:"Rain version "+i.version},{type:"separator"},{label:"‚ù§ for contributing!"}]);u.setToolTip("Rain"),u.setContextMenu(p)};